{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      description: '',\n      amount: 0,\n      date: '',\n      category: '',\n      errors: {},\n      successMessage: '',\n      expenses: [],\n      categories: ['Travel', 'Food', 'Entertainment', 'Transport', 'Others']\n    };\n  },\n  methods: {\n    async fetchExpenses() {\n      const auth = btoa('admin:admin');\n      try {\n        const response = await axios.get('http://localhost:8080/api/expenses?page=0&size=10', {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        });\n        this.expenses = response.data.expenses;\n      } catch (error) {\n        console.error('Error loading expenses:', error);\n      }\n    },\n    async addExpense() {\n      this.errors = {};\n      this.successMessage = '';\n      try {\n        const auth = btoa('admin:admin');\n        await axios.post('http://localhost:8080/api/expenses', {\n          description: this.description,\n          amount: this.amount,\n          date: this.date,\n          category: this.category\n        }, {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        });\n        this.successMessage = 'Expense added successfully!';\n        this.description = '';\n        this.amount = 0;\n        this.date = '';\n        this.category = '';\n        this.fetchExpenses();\n      } catch (error) {\n        if (error.response && error.response.status === 400) {\n          this.errors = error.response.data;\n        } else {\n          console.error('Submission error', error);\n        }\n      }\n    },\n    async deleteExpense(id) {\n      const auth = btoa('admin:admin');\n      try {\n        await axios.delete(`http://localhost:8080/api/expenses/${id}`, {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        });\n        this.fetchExpenses();\n      } catch (error) {\n        console.error('Delete error', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString();\n    }\n  },\n  mounted() {\n    this.fetchExpenses();\n  }\n};","map":{"version":3,"names":["axios","data","description","amount","date","category","errors","successMessage","expenses","categories","methods","fetchExpenses","auth","btoa","response","get","headers","Authorization","error","console","addExpense","post","status","deleteExpense","id","delete","formatDate","Date","toLocaleDateString","mounted"],"sources":["src/components/ExpenseForm.vue"],"sourcesContent":["<template>\n  <div class=\"form-wrapper\">\n    <h2>Add Expense</h2>\n    <form @submit.prevent=\"addExpense\">\n      <div>\n        <input v-model=\"description\" placeholder=\"Description\" required />\n        <span class=\"error\" v-if=\"errors.description\">{{ errors.description }}</span>\n      </div>\n\n      <div>\n        <input v-model.number=\"amount\" type=\"number\" placeholder=\"Amount\" required />\n        <span class=\"error\" v-if=\"errors.amount\">{{ errors.amount }}</span>\n      </div>\n\n      <div>\n        <input v-model=\"date\" type=\"date\" required />\n        <span class=\"error\" v-if=\"errors.date\">{{ errors.date }}</span>\n      </div>\n\n      <div>\n        <select v-model=\"category\" required>\n          <option disabled value=\"\">Select Category</option>\n          <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">{{ cat }}</option>\n        </select>\n        <span class=\"error\" v-if=\"errors.category\">{{ errors.category }}</span>\n      </div>\n\n      <button type=\"submit\">Add</button>\n    </form>\n\n    <p class=\"success\" v-if=\"successMessage\">{{ successMessage }}</p>\n\n    <h3>Existing Expenses</h3>\n    <ul>\n      <li v-for=\"expense in expenses\" :key=\"expense.id\">\n        {{ expense.description }} - ${{ expense.amount.toFixed(2) }} - {{ expense.category }} - {{ formatDate(expense.date) }}\n        <button @click=\"deleteExpense(expense.id)\">Delete</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      description: '',\n      amount: 0,\n      date: '',\n      category: '',\n      errors: {},\n      successMessage: '',\n      expenses: [],\n      categories: ['Travel', 'Food', 'Entertainment', 'Transport', 'Others']\n    };\n  },\n  methods: {\n    async fetchExpenses() {\n      const auth = btoa('admin:admin');\n      try {\n        const response = await axios.get('http://localhost:8080/api/expenses?page=0&size=10', {\n          headers: { Authorization: `Basic ${auth}` }\n        });\n        this.expenses = response.data.expenses;\n      } catch (error) {\n        console.error('Error loading expenses:', error);\n      }\n    },\n    async addExpense() {\n      this.errors = {};\n      this.successMessage = '';\n      try {\n        const auth = btoa('admin:admin');\n        await axios.post(\n          'http://localhost:8080/api/expenses',\n          {\n            description: this.description,\n            amount: this.amount,\n            date: this.date,\n            category: this.category\n          },\n          {\n            headers: { Authorization: `Basic ${auth}` }\n          }\n        );\n\n        this.successMessage = 'Expense added successfully!';\n        this.description = '';\n        this.amount = 0;\n        this.date = '';\n        this.category = '';\n\n        this.fetchExpenses();\n      } catch (error) {\n        if (error.response && error.response.status === 400) {\n          this.errors = error.response.data;\n        } else {\n          console.error('Submission error', error);\n        }\n      }\n    },\n    async deleteExpense(id) {\n      const auth = btoa('admin:admin');\n      try {\n        await axios.delete(`http://localhost:8080/api/expenses/${id}`, {\n          headers: { Authorization: `Basic ${auth}` }\n        });\n        this.fetchExpenses();\n      } catch (error) {\n        console.error('Delete error', error);\n      }\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleDateString();\n    }\n  },\n  mounted() {\n    this.fetchExpenses();\n  }\n};\n</script>\n\n<style scoped>\n.form-wrapper {\n  background: #fff;\n  padding: 20px;\n  border-radius: 10px;\n  margin-top: 30px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n}\n\nform > div {\n  margin-bottom: 15px;\n  display: flex;\n  flex-direction: column;\n}\n\ninput,\nselect {\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n\nbutton {\n  padding: 10px;\n  background-color: #28a745;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #218838;\n}\n\n.error {\n  color: red;\n  font-size: 0.85em;\n  margin-top: 4px;\n}\n\n.success {\n  color: green;\n  font-weight: bold;\n  margin-top: 10px;\n}\n\nul {\n  list-style: none;\n  padding: 0;\n  margin-top: 20px;\n}\n\nli {\n  margin-bottom: 8px;\n}\n</style>\n"],"mappings":"AA2CA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,MAAA;MACAC,IAAA;MACAC,QAAA;MACAC,MAAA;MACAC,cAAA;MACAC,QAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,cAAA;MACA,MAAAC,IAAA,GAAAC,IAAA;MACA;QACA,MAAAC,QAAA,SAAAd,KAAA,CAAAe,GAAA;UACAC,OAAA;YAAAC,aAAA,WAAAL,IAAA;UAAA;QACA;QACA,KAAAJ,QAAA,GAAAM,QAAA,CAAAb,IAAA,CAAAO,QAAA;MACA,SAAAU,KAAA;QACAC,OAAA,CAAAD,KAAA,4BAAAA,KAAA;MACA;IACA;IACA,MAAAE,WAAA;MACA,KAAAd,MAAA;MACA,KAAAC,cAAA;MACA;QACA,MAAAK,IAAA,GAAAC,IAAA;QACA,MAAAb,KAAA,CAAAqB,IAAA,CACA,sCACA;UACAnB,WAAA,OAAAA,WAAA;UACAC,MAAA,OAAAA,MAAA;UACAC,IAAA,OAAAA,IAAA;UACAC,QAAA,OAAAA;QACA,GACA;UACAW,OAAA;YAAAC,aAAA,WAAAL,IAAA;UAAA;QACA,CACA;QAEA,KAAAL,cAAA;QACA,KAAAL,WAAA;QACA,KAAAC,MAAA;QACA,KAAAC,IAAA;QACA,KAAAC,QAAA;QAEA,KAAAM,aAAA;MACA,SAAAO,KAAA;QACA,IAAAA,KAAA,CAAAJ,QAAA,IAAAI,KAAA,CAAAJ,QAAA,CAAAQ,MAAA;UACA,KAAAhB,MAAA,GAAAY,KAAA,CAAAJ,QAAA,CAAAb,IAAA;QACA;UACAkB,OAAA,CAAAD,KAAA,qBAAAA,KAAA;QACA;MACA;IACA;IACA,MAAAK,cAAAC,EAAA;MACA,MAAAZ,IAAA,GAAAC,IAAA;MACA;QACA,MAAAb,KAAA,CAAAyB,MAAA,uCAAAD,EAAA;UACAR,OAAA;YAAAC,aAAA,WAAAL,IAAA;UAAA;QACA;QACA,KAAAD,aAAA;MACA,SAAAO,KAAA;QACAC,OAAA,CAAAD,KAAA,iBAAAA,KAAA;MACA;IACA;IACAQ,WAAAtB,IAAA;MACA,WAAAuB,IAAA,CAAAvB,IAAA,EAAAwB,kBAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAlB,aAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}