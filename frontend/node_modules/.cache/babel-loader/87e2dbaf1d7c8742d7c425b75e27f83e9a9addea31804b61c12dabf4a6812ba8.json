{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      description: '',\n      amount: null,\n      date: '',\n      category: '',\n      categories: ['Travel', 'Food', 'Entertainment', 'Transport', 'Others'],\n      errors: {},\n      successMessage: '',\n      isSubmitting: false\n    };\n  },\n  computed: {\n    today() {\n      return new Date().toISOString().split('T')[0];\n    }\n  },\n  methods: {\n    async addExpense() {\n      this.errors = {};\n      this.successMessage = '';\n      this.isSubmitting = true;\n      const auth = localStorage.getItem('auth');\n      try {\n        await axios.post('http://localhost:8080/api/expenses', {\n          description: this.description,\n          amount: this.amount,\n          date: this.date,\n          category: this.category\n        }, {\n          headers: {\n            Authorization: `Basic ${auth}`\n          }\n        });\n        this.successMessage = 'Expense added successfully!';\n        this.description = '';\n        this.amount = null;\n        this.date = '';\n        this.category = '';\n        this.$emit('expense-added');\n      } catch (error) {\n        if (error.response && error.response.status === 400) {\n          this.errors = error.response.data;\n        } else {\n          console.error('Unexpected error submitting expense:', error);\n          this.errors.general = 'Something went wrong. Please try again later.';\n        }\n      } finally {\n        this.isSubmitting = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","description","amount","date","category","categories","errors","successMessage","isSubmitting","computed","today","Date","toISOString","split","methods","addExpense","auth","localStorage","getItem","post","headers","Authorization","$emit","error","response","status","console","general"],"sources":["src/components/ExpenseForm.vue"],"sourcesContent":["<template>\n  <div class=\"expense-form\">\n    <form @submit.prevent=\"addExpense\" novalidate>\n      <div class=\"form-group\">\n        <label for=\"description\">Description</label>\n        <input id=\"description\" v-model.trim=\"description\" placeholder=\"e.g. Car\" required />\n        <span class=\"error\" v-if=\"errors.description\">{{ errors.description }}</span>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"amount\">Amount</label>\n        <input id=\"amount\" v-model.number=\"amount\" type=\"number\" placeholder=\"e.g. 25\" min=\"0.01\" step=\"0.01\" required />\n        <span class=\"error\" v-if=\"errors.amount\">{{ errors.amount }}</span>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"date\">Date</label>\n        <input id=\"date\" v-model=\"date\" type=\"date\" max=\"{{ today }}\" required />\n        <span class=\"error\" v-if=\"errors.date\">{{ errors.date }}</span>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"category\">Category</label>\n        <select id=\"category\" v-model=\"category\" required>\n          <option disabled value=\"\">Select Category</option>\n          <option v-for=\"cat in categories\" :key=\"cat\" :value=\"cat\">{{ cat }}</option>\n        </select>\n        <span class=\"error\" v-if=\"errors.category\">{{ errors.category }}</span>\n      </div>\n\n      <button type=\"submit\" :disabled=\"isSubmitting\">{{ isSubmitting ? 'Submitting...' : 'Add Expense' }}</button>\n    </form>\n\n    <p class=\"success\" v-if=\"successMessage\">{{ successMessage }}</p>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      description: '',\n      amount: null,\n      date: '',\n      category: '',\n      categories: ['Travel', 'Food', 'Entertainment', 'Transport', 'Others'],\n      errors: {},\n      successMessage: '',\n      isSubmitting: false\n    };\n  },\n  computed: {\n    today() {\n      return new Date().toISOString().split('T')[0];\n    }\n  },\n  methods: {\n    async addExpense() {\n      this.errors = {};\n      this.successMessage = '';\n      this.isSubmitting = true;\n      const auth = localStorage.getItem('auth');\n\n      try {\n        await axios.post(\n          'http://localhost:8080/api/expenses',\n          {\n            description: this.description,\n            amount: this.amount,\n            date: this.date,\n            category: this.category\n          },\n          {\n            headers: { Authorization: `Basic ${auth}` }\n          }\n        );\n\n        this.successMessage = 'Expense added successfully!';\n        this.description = '';\n        this.amount = null;\n        this.date = '';\n        this.category = '';\n        this.$emit('expense-added');\n      } catch (error) {\n        if (error.response && error.response.status === 400) {\n          this.errors = error.response.data;\n        } else {\n          console.error('Unexpected error submitting expense:', error);\n          this.errors.general = 'Something went wrong. Please try again later.';\n        }\n      } finally {\n        this.isSubmitting = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.expense-form {\n  background-color: #ffffff;\n  padding: 20px;\n  border-radius: 12px;\n  max-width: 400px;\n  margin: auto;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n  font-family: Arial, sans-serif;\n}\n\n.form-group {\n  margin-bottom: 16px;\n  display: flex;\n  flex-direction: column;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 6px;\n}\n\ninput,\nselect {\n  padding: 10px;\n  font-size: 1em;\n  border-radius: 6px;\n  border: 1px solid #ccc;\n}\n\nbutton {\n  padding: 12px;\n  font-size: 1em;\n  background-color: #28a745;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-weight: bold;\n  width: 100%;\n}\n\nbutton:disabled {\n  background-color: #aaa;\n  cursor: not-allowed;\n}\n\nbutton:hover:not(:disabled) {\n  background-color: #218838;\n}\n\n.error {\n  color: red;\n  font-size: 0.85em;\n  margin-top: 4px;\n}\n\n.success {\n  color: green;\n  font-weight: bold;\n  margin-top: 12px;\n  text-align: center;\n}\n</style>\n"],"mappings":"AAsCA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,MAAA;MACAC,IAAA;MACAC,QAAA;MACAC,UAAA;MACAC,MAAA;MACAC,cAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,MAAA;MACA,WAAAC,IAAA,GAAAC,WAAA,GAAAC,KAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,WAAA;MACA,KAAAT,MAAA;MACA,KAAAC,cAAA;MACA,KAAAC,YAAA;MACA,MAAAQ,IAAA,GAAAC,YAAA,CAAAC,OAAA;MAEA;QACA,MAAAnB,KAAA,CAAAoB,IAAA,CACA,sCACA;UACAlB,WAAA,OAAAA,WAAA;UACAC,MAAA,OAAAA,MAAA;UACAC,IAAA,OAAAA,IAAA;UACAC,QAAA,OAAAA;QACA,GACA;UACAgB,OAAA;YAAAC,aAAA,WAAAL,IAAA;UAAA;QACA,CACA;QAEA,KAAAT,cAAA;QACA,KAAAN,WAAA;QACA,KAAAC,MAAA;QACA,KAAAC,IAAA;QACA,KAAAC,QAAA;QACA,KAAAkB,KAAA;MACA,SAAAC,KAAA;QACA,IAAAA,KAAA,CAAAC,QAAA,IAAAD,KAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,KAAAnB,MAAA,GAAAiB,KAAA,CAAAC,QAAA,CAAAxB,IAAA;QACA;UACA0B,OAAA,CAAAH,KAAA,yCAAAA,KAAA;UACA,KAAAjB,MAAA,CAAAqB,OAAA;QACA;MACA;QACA,KAAAnB,YAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}